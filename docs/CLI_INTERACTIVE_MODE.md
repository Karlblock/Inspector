# ðŸ“ cyba-Inspector Interactive CLI Documentation

*Generated by Report Generator Agent*

## Overview

The new Interactive CLI mode for cyba-Inspector provides an enhanced shell interface with auto-completion, command history, and real-time progress tracking. This feature was developed through agent collaboration.

## Features

### ðŸŽ¯ Core Capabilities
- **Interactive Shell**: Based on cmd2 framework
- **Tab Completion**: Auto-complete commands and arguments
- **Command History**: Persistent history across sessions
- **Rich Output**: Colored tables and progress bars
- **Session Management**: Save and load enumeration sessions
- **Real-time Progress**: Visual feedback during operations

### ðŸ“‹ Available Commands

#### `target [IP/hostname]`
Set or display the current target.
```bash
cyba-inspector> target 10.10.10.1
Target set to: 10.10.10.1
```

#### `scan [options]`
Quick Nmap scan with options:
- `-p, --ports`: Specific ports to scan
- `-sV`: Version detection
- `-sC`: Script scan

```bash
cyba-inspector> scan -p 80,443 -sV
Scanning 10.10.10.1...
```

#### `enum [profile]`
Run enumeration with interactive wizard or specific profile:
```bash
cyba-inspector> enum
# Shows enumeration wizard

cyba-inspector> enum web-app
# Runs web-app profile directly
```

#### `session [list|load|save|new]`
Manage enumeration sessions:
```bash
cyba-inspector> session list
# Shows all sessions

cyba-inspector> session load session_20240726_160000
# Loads specific session

cyba-inspector> session new
# Creates new session
```

#### `report [format] [output_file]`
Generate reports from current session:
```bash
cyba-inspector> report markdown
# Generates markdown report

cyba-inspector> report html /tmp/report.html
# Generates HTML report to specific file
```

## Installation

1. Install required dependencies:
```bash
pip install cmd2 rich
```

2. Launch interactive mode:
```bash
# Add to cyba-inspector.py main function
python3 cyba-inspector.py interactive

# Or directly
python3 -m src.cli.interactive
```

## Configuration

### Settings
The CLI supports various settings that can be modified:
```bash
cyba-inspector> set auto_save true
cyba-inspector> set color_output false
cyba-inspector> set verbose true
```

### Startup Script
Create `~/.cyba_inspectorrc` for startup commands:
```bash
# .cyba_inspectorrc
set auto_save true
set color_output true
target 10.10.10.1
```

### History File
Command history is saved to `~/.cyba_inspector_history`

## Usage Examples

### Basic Workflow
```bash
# Start interactive mode
$ python3 cyba-inspector.py interactive

# Set target
cyba-inspector> target 10.10.10.100

# Quick scan
cyba-inspector> scan -p 1-1000

# Run enumeration
cyba-inspector> enum web-app

# Generate report
cyba-inspector> report markdown
```

### Advanced Session Management
```bash
# Create new session
cyba-inspector> session new
Session name [session_20240726_160000]: hackthebox_machine

# Run various enumerations
cyba-inspector> enum basic
cyba-inspector> enum web-app

# Save and exit
cyba-inspector> exit

# Later, reload session
cyba-inspector> session load hackthebox_machine
cyba-inspector> report html full_report.html
```

## Security Features

âœ… **Input Validation**: All user inputs validated by InputValidator
âœ… **No Shell Injection**: Commands use safe subprocess calls
âœ… **Session Security**: Sessions stored securely with proper permissions
âœ… **Guardian Approved**: Code passed all security checks

## Development Notes

### Agent Collaboration
This feature was developed through coordinated agent effort:

1. **ðŸŽ­ Orchestrator**: Planned the feature and assigned agents
2. **ðŸš€ Application Evolution Expert**: Designed the architecture
3. **ðŸ’» Module Developer**: Implemented the interactive shell
4. **ðŸ›¡ï¸ Repository Guardian**: Validated security
5. **ðŸ“ Report Generator**: Created this documentation

### Architecture Decisions
- **cmd2 Framework**: Chosen for robust CLI features
- **Rich Library**: For beautiful terminal output
- **Modular Design**: Easy to extend with new commands
- **Session Persistence**: JSON-based for simplicity

## Future Enhancements

The Application Evolution Expert suggests:
- **Exploit Assistant**: Guided exploitation based on findings
- **Plugin System**: User-defined commands
- **API Mode**: REST API for the CLI
- **Collaborative Mode**: Multi-user sessions
- **AI Integration**: Smart command suggestions

## Troubleshooting

### Common Issues

**Import Error**: Ensure cmd2 and rich are installed:
```bash
pip install cmd2 rich
```

**History Not Saving**: Check permissions on ~/.cyba_inspector_history

**Colors Not Working**: Try setting:
```bash
cyba-inspector> set color_output true
```

## Contributing

To add new commands:
1. Add method `do_commandname` to CybaHTBShell class
2. Add help with docstring or `help_commandname` method
3. Run Guardian security check
4. Submit PR with tests

---

*This feature demonstrates the power of agent collaboration in cyba-Inspector development.*